---
- name: Create ServiceNow Change Request
  hosts: localhost
  gather_facts: no
  tasks:

    - name: Display the ITSM update message from workflow
      ansible.builtin.debug:
        msg: |
          ITSM Update Summary:
          {{ workflow_vars.itsm_update_message }}

### Generated by Ansible Lightspeed with Watson Code Assistant
#    - name: Create a change request in ServiceNow
#      servicenow.change_request:
#        instance: "{{ servicenow_instance }}"
#        user: "{{ servicenow_user }}"
#        password: "{{ servicenow_password }}"
#        state: present
#        short_description: "Update ServiceNow Catalog"
#        description: "This change request is to update the ServiceNow catalog with the latest configurations."
#        category: "Configuration"
#        priority: 2
#        impact: 2
#      register: change_request

#    - name: Output change request details
#      ansible.builtin.debug:
#        msg: "Change Request created with number {{ change_request.number }}"

